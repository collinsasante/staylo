"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/stats";
exports.ids = ["pages/api/stats"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("firebase/storage");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstats&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstats.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstats&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstats.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_stats_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/stats.ts */ \"(api)/./pages/api/stats.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_stats_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_stats_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stats_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stats_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/stats\",\n        pathname: \"/api/stats\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_stats_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN0YXRzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZzdGF0cy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNpRDtBQUNqRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvc3RlbC1uZXh0anMvPzc1OGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9zdGF0cy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0YXRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RhdHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstats&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstats.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* reexport safe */ _firebase__WEBPACK_IMPORTED_MODULE_1__.auth),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   loginWithEmail: () => (/* binding */ loginWithEmail),\n/* harmony export */   logout: () => (/* binding */ logout)\n/* harmony export */ });\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(api)/./lib/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_auth__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_auth__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Re-export auth for convenience\n\n/**\r\n * Sign in with email and password\r\n */ const loginWithEmail = async (email, password)=>{\n    try {\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, email, password);\n        return userCredential.user;\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        throw new Error(getAuthErrorMessage(error.code));\n    }\n};\n/**\r\n * Sign out current user\r\n */ const logout = async ()=>{\n    try {\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signOut)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth);\n    } catch (error) {\n        console.error(\"Logout error:\", error);\n        throw error;\n    }\n};\n/**\r\n * Get current user\r\n */ const getCurrentUser = ()=>{\n    return new Promise((resolve)=>{\n        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.onAuthStateChanged)(_firebase__WEBPACK_IMPORTED_MODULE_1__.auth, (user)=>{\n            unsubscribe();\n            resolve(user);\n        });\n    });\n};\n/**\r\n * Convert Firebase auth error codes to user-friendly messages\r\n */ const getAuthErrorMessage = (errorCode)=>{\n    const errorMessages = {\n        \"auth/invalid-email\": \"Invalid email address\",\n        \"auth/user-disabled\": \"This account has been disabled\",\n        \"auth/user-not-found\": \"Invalid email or password\",\n        \"auth/wrong-password\": \"Invalid email or password\",\n        \"auth/invalid-credential\": \"Invalid email or password\",\n        \"auth/too-many-requests\": \"Too many failed login attempts. Please try again later\"\n    };\n    return errorMessages[errorCode] || \"Login failed. Please try again\";\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEY7QUFDNUQ7QUFFbEMsaUNBQWlDO0FBQ2pCO0FBRWhCOztDQUVDLEdBQ00sTUFBTUksaUJBQWlCLE9BQU9DLE9BQWVDO0lBQ2xELElBQUk7UUFDRixNQUFNQyxpQkFBaUIsTUFBTVAseUVBQTBCQSxDQUFDRywyQ0FBSUEsRUFBRUUsT0FBT0M7UUFDckUsT0FBT0MsZUFBZUMsSUFBSTtJQUM1QixFQUFFLE9BQU9DLE9BQVk7UUFDbkJDLFFBQVFELEtBQUssQ0FBQyxnQkFBZ0JBO1FBQzlCLE1BQU0sSUFBSUUsTUFBTUMsb0JBQW9CSCxNQUFNSSxJQUFJO0lBQ2hEO0FBQ0YsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTUMsU0FBUztJQUNwQixJQUFJO1FBQ0YsTUFBTWIsc0RBQU9BLENBQUNFLDJDQUFJQTtJQUNwQixFQUFFLE9BQU9NLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlCQUFpQkE7UUFDL0IsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1NLGlCQUFpQjtJQUM1QixPQUFPLElBQUlDLFFBQVEsQ0FBQ0M7UUFDbEIsTUFBTUMsY0FBY2hCLGlFQUFrQkEsQ0FBQ0MsMkNBQUlBLEVBQUUsQ0FBQ0s7WUFDNUNVO1lBQ0FELFFBQVFUO1FBQ1Y7SUFDRjtBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNELE1BQU1JLHNCQUFzQixDQUFDTztJQUMzQixNQUFNQyxnQkFBMkM7UUFDL0Msc0JBQXNCO1FBQ3RCLHNCQUFzQjtRQUN0Qix1QkFBdUI7UUFDdkIsdUJBQXVCO1FBQ3ZCLDJCQUEyQjtRQUMzQiwwQkFBMEI7SUFDNUI7SUFFQSxPQUFPQSxhQUFhLENBQUNELFVBQVUsSUFBSTtBQUNyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvc3RlbC1uZXh0anMvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLCBzaWduT3V0LCBvbkF1dGhTdGF0ZUNoYW5nZWQsIFVzZXIgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gJy4vZmlyZWJhc2UnO1xyXG5cclxuLy8gUmUtZXhwb3J0IGF1dGggZm9yIGNvbnZlbmllbmNlXHJcbmV4cG9ydCB7IGF1dGggfTtcclxuXHJcbi8qKlxyXG4gKiBTaWduIGluIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbG9naW5XaXRoRW1haWwgPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8VXNlcj4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XHJcbiAgICByZXR1cm4gdXNlckNyZWRlbnRpYWwudXNlcjtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0QXV0aEVycm9yTWVzc2FnZShlcnJvci5jb2RlKSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNpZ24gb3V0IGN1cnJlbnQgdXNlclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGxvZ291dCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgc2lnbk91dChhdXRoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignTG9nb3V0IGVycm9yOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgY3VycmVudCB1c2VyXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSAoKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4gPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgKHVzZXIpID0+IHtcclxuICAgICAgdW5zdWJzY3JpYmUoKTtcclxuICAgICAgcmVzb2x2ZSh1c2VyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgRmlyZWJhc2UgYXV0aCBlcnJvciBjb2RlcyB0byB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VzXHJcbiAqL1xyXG5jb25zdCBnZXRBdXRoRXJyb3JNZXNzYWdlID0gKGVycm9yQ29kZTogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICBjb25zdCBlcnJvck1lc3NhZ2VzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG4gICAgJ2F1dGgvaW52YWxpZC1lbWFpbCc6ICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnLFxyXG4gICAgJ2F1dGgvdXNlci1kaXNhYmxlZCc6ICdUaGlzIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQnLFxyXG4gICAgJ2F1dGgvdXNlci1ub3QtZm91bmQnOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcsXHJcbiAgICAnYXV0aC93cm9uZy1wYXNzd29yZCc6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyxcclxuICAgICdhdXRoL2ludmFsaWQtY3JlZGVudGlhbCc6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyxcclxuICAgICdhdXRoL3Rvby1tYW55LXJlcXVlc3RzJzogJ1RvbyBtYW55IGZhaWxlZCBsb2dpbiBhdHRlbXB0cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlcicsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGVycm9yTWVzc2FnZXNbZXJyb3JDb2RlXSB8fCAnTG9naW4gZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluJztcclxufTtcclxuIl0sIm5hbWVzIjpbInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbk91dCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsImF1dGgiLCJsb2dpbldpdGhFbWFpbCIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyQ3JlZGVudGlhbCIsInVzZXIiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsImdldEF1dGhFcnJvck1lc3NhZ2UiLCJjb2RlIiwibG9nb3V0IiwiZ2V0Q3VycmVudFVzZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInVuc3Vic2NyaWJlIiwiZXJyb3JDb2RlIiwiZXJyb3JNZXNzYWdlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/auth.ts\n");

/***/ }),

/***/ "(api)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHostel: () => (/* binding */ createHostel),\n/* harmony export */   createInquiry: () => (/* binding */ createInquiry),\n/* harmony export */   deleteHostel: () => (/* binding */ deleteHostel),\n/* harmony export */   deleteInquiry: () => (/* binding */ deleteInquiry),\n/* harmony export */   getAllHostels: () => (/* binding */ getAllHostels),\n/* harmony export */   getAllInquiries: () => (/* binding */ getAllInquiries),\n/* harmony export */   getDashboardStats: () => (/* binding */ getDashboardStats),\n/* harmony export */   getHostel: () => (/* binding */ getHostel),\n/* harmony export */   getHostelsByStatus: () => (/* binding */ getHostelsByStatus),\n/* harmony export */   getInquiriesByStatus: () => (/* binding */ getInquiriesByStatus),\n/* harmony export */   getInquiry: () => (/* binding */ getInquiry),\n/* harmony export */   getMostViewedHostels: () => (/* binding */ getMostViewedHostels),\n/* harmony export */   getRecentInquiries: () => (/* binding */ getRecentInquiries),\n/* harmony export */   incrementHostelViews: () => (/* binding */ incrementHostelViews),\n/* harmony export */   updateHostel: () => (/* binding */ updateHostel),\n/* harmony export */   updateInquiryStatus: () => (/* binding */ updateInquiryStatus)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(api)/./lib/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Collections\nconst HOSTELS_COLLECTION = \"hostels\";\nconst INQUIRIES_COLLECTION = \"inquiries\";\n// ============================================\n// Hostel Operations\n// ============================================\nconst createHostel = async (data, imageUrls)=>{\n    const hostelData = {\n        ...data,\n        images: imageUrls,\n        views: 0,\n        createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString(),\n        updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString()\n    };\n    const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION), hostelData);\n    return docRef.id;\n};\nconst getHostel = async (id)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION, id);\n    const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n    if (docSnap.exists()) {\n        return {\n            id: docSnap.id,\n            ...docSnap.data()\n        };\n    }\n    return null;\n};\nconst getAllHostels = async ()=>{\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n    const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    return querySnapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n};\nconst getHostelsByStatus = async (status)=>{\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", status), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n    const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    return querySnapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n};\nconst updateHostel = async (id, data)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION, id);\n    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n        ...data,\n        updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString()\n    });\n};\nconst deleteHostel = async (id)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION, id);\n    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(docRef);\n};\nconst incrementHostelViews = async (id)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION, id);\n    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n        views: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(1)\n    });\n};\nconst getMostViewedHostels = async (limitCount = 5)=>{\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, HOSTELS_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"views\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n    const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    return querySnapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n};\n// ============================================\n// Inquiry Operations\n// ============================================\nconst createInquiry = async (data)=>{\n    const inquiryData = {\n        ...data,\n        status: \"unread\",\n        date: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString(),\n        createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString(),\n        updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString()\n    };\n    const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION), inquiryData);\n    return docRef.id;\n};\nconst getInquiry = async (id)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION, id);\n    const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n    if (docSnap.exists()) {\n        return {\n            id: docSnap.id,\n            ...docSnap.data()\n        };\n    }\n    return null;\n};\nconst getAllInquiries = async ()=>{\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"date\", \"desc\"));\n    const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    return querySnapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n};\nconst getInquiriesByStatus = async (status)=>{\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", status), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"date\", \"desc\"));\n    const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    return querySnapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n};\nconst updateInquiryStatus = async (id, status)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION, id);\n    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n        status,\n        updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now().toDate().toISOString()\n    });\n};\nconst deleteInquiry = async (id)=>{\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION, id);\n    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(docRef);\n};\nconst getRecentInquiries = async (limitCount = 10)=>{\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, INQUIRIES_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"date\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n    const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    return querySnapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n};\n// ============================================\n// Dashboard Stats\n// ============================================\nconst getDashboardStats = async ()=>{\n    const [hostels, inquiries] = await Promise.all([\n        getAllHostels(),\n        getAllInquiries()\n    ]);\n    const stats = {\n        totalHostels: hostels.length,\n        activeHostels: hostels.filter((h)=>h.status === \"active\").length,\n        featuredHostels: hostels.filter((h)=>h.status === \"featured\").length,\n        unavailableHostels: hostels.filter((h)=>h.status === \"unavailable\").length,\n        totalInquiries: inquiries.length,\n        unreadInquiries: inquiries.filter((i)=>i.status === \"unread\").length,\n        readInquiries: inquiries.filter((i)=>i.status === \"read\").length,\n        contactedInquiries: inquiries.filter((i)=>i.status === \"contacted\").length,\n        totalViews: hostels.reduce((sum, h)=>sum + h.views, 0),\n        mostViewed: hostels.sort((a, b)=>b.views - a.views).slice(0, 5).map((h)=>({\n                id: h.id,\n                name: h.name,\n                views: h.views\n            }))\n    };\n    return stats;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBTVUsTUFBTVYsRUFBRTFDLEtBQUssRUFBRTtRQUN0RHFELFlBQVlwQixRQUNUcUIsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUV4RCxLQUFLLEdBQUd1RCxFQUFFdkQsS0FBSyxFQUNoQ3lELEtBQUssQ0FBQyxHQUFHLEdBQ1QxQyxHQUFHLENBQUMsQ0FBQzJCLElBQU87Z0JBQ1huQyxJQUFJbUMsRUFBRW5DLEVBQUU7Z0JBQ1JtRCxNQUFNaEIsRUFBRWdCLElBQUk7Z0JBQ1oxRCxPQUFPMEMsRUFBRTFDLEtBQUs7WUFDaEI7SUFDSjtJQUVBLE9BQU9xQztBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3N0ZWwtbmV4dGpzLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBjb2xsZWN0aW9uLFxyXG4gIGRvYyxcclxuICBnZXREb2MsXHJcbiAgZ2V0RG9jcyxcclxuICBhZGREb2MsXHJcbiAgdXBkYXRlRG9jLFxyXG4gIGRlbGV0ZURvYyxcclxuICBxdWVyeSxcclxuICB3aGVyZSxcclxuICBvcmRlckJ5LFxyXG4gIGxpbWl0LFxyXG4gIFRpbWVzdGFtcCxcclxuICBpbmNyZW1lbnQsXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICcuL2ZpcmViYXNlJztcclxuaW1wb3J0IHsgSG9zdGVsLCBDcmVhdGVIb3N0ZWxJbnB1dCwgSW5xdWlyeSwgQ3JlYXRlSW5xdWlyeUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuLy8gQ29sbGVjdGlvbnNcclxuY29uc3QgSE9TVEVMU19DT0xMRUNUSU9OID0gJ2hvc3RlbHMnO1xyXG5jb25zdCBJTlFVSVJJRVNfQ09MTEVDVElPTiA9ICdpbnF1aXJpZXMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSG9zdGVsIE9wZXJhdGlvbnNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVIb3N0ZWwgPSBhc3luYyAoXHJcbiAgZGF0YTogQ3JlYXRlSG9zdGVsSW5wdXQsXHJcbiAgaW1hZ2VVcmxzOiBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIGNvbnN0IGhvc3RlbERhdGEgPSB7XHJcbiAgICAuLi5kYXRhLFxyXG4gICAgaW1hZ2VzOiBpbWFnZVVybHMsXHJcbiAgICB2aWV3czogMCxcclxuICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKS50b0RhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBIT1NURUxTX0NPTExFQ1RJT04pLCBob3N0ZWxEYXRhKTtcclxuICByZXR1cm4gZG9jUmVmLmlkO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEhvc3RlbCA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTxIb3N0ZWwgfCBudWxsPiA9PiB7XHJcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBIT1NURUxTX0NPTExFQ1RJT04sIGlkKTtcclxuICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZik7XHJcblxyXG4gIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XHJcbiAgICByZXR1cm4geyBpZDogZG9jU25hcC5pZCwgLi4uZG9jU25hcC5kYXRhKCkgfSBhcyBIb3N0ZWw7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFsbEhvc3RlbHMgPSBhc3luYyAoKTogUHJvbWlzZTxIb3N0ZWxbXT4gPT4ge1xyXG4gIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCBIT1NURUxTX0NPTExFQ1RJT04pLCBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpKTtcclxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbiAgcmV0dXJuIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgIGlkOiBkb2MuaWQsXHJcbiAgICAuLi5kb2MuZGF0YSgpLFxyXG4gIH0pKSBhcyBIb3N0ZWxbXTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRIb3N0ZWxzQnlTdGF0dXMgPSBhc3luYyAoXHJcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICd1bmF2YWlsYWJsZScgfCAnZmVhdHVyZWQnXHJcbik6IFByb21pc2U8SG9zdGVsW10+ID0+IHtcclxuICBjb25zdCBxID0gcXVlcnkoXHJcbiAgICBjb2xsZWN0aW9uKGRiLCBIT1NURUxTX0NPTExFQ1RJT04pLFxyXG4gICAgd2hlcmUoJ3N0YXR1cycsICc9PScsIHN0YXR1cyksXHJcbiAgICBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgKTtcclxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbiAgcmV0dXJuIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgIGlkOiBkb2MuaWQsXHJcbiAgICAuLi5kb2MuZGF0YSgpLFxyXG4gIH0pKSBhcyBIb3N0ZWxbXTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVIb3N0ZWwgPSBhc3luYyAoXHJcbiAgaWQ6IHN0cmluZyxcclxuICBkYXRhOiBQYXJ0aWFsPENyZWF0ZUhvc3RlbElucHV0PlxyXG4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIEhPU1RFTFNfQ09MTEVDVElPTiwgaWQpO1xyXG4gIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcclxuICAgIC4uLmRhdGEsXHJcbiAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKS50b0RhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUhvc3RlbCA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBIT1NURUxTX0NPTExFQ1RJT04sIGlkKTtcclxuICBhd2FpdCBkZWxldGVEb2MoZG9jUmVmKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbmNyZW1lbnRIb3N0ZWxWaWV3cyA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBIT1NURUxTX0NPTExFQ1RJT04sIGlkKTtcclxuICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XHJcbiAgICB2aWV3czogaW5jcmVtZW50KDEpLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldE1vc3RWaWV3ZWRIb3N0ZWxzID0gYXN5bmMgKGxpbWl0Q291bnQ6IG51bWJlciA9IDUpOiBQcm9taXNlPEhvc3RlbFtdPiA9PiB7XHJcbiAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgY29sbGVjdGlvbihkYiwgSE9TVEVMU19DT0xMRUNUSU9OKSxcclxuICAgIG9yZGVyQnkoJ3ZpZXdzJywgJ2Rlc2MnKSxcclxuICAgIGxpbWl0KGxpbWl0Q291bnQpXHJcbiAgKTtcclxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbiAgcmV0dXJuIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgIGlkOiBkb2MuaWQsXHJcbiAgICAuLi5kb2MuZGF0YSgpLFxyXG4gIH0pKSBhcyBIb3N0ZWxbXTtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIElucXVpcnkgT3BlcmF0aW9uc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUlucXVpcnkgPSBhc3luYyAoZGF0YTogQ3JlYXRlSW5xdWlyeUlucHV0KTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICBjb25zdCBpbnF1aXJ5RGF0YSA9IHtcclxuICAgIC4uLmRhdGEsXHJcbiAgICBzdGF0dXM6ICd1bnJlYWQnIGFzIGNvbnN0LFxyXG4gICAgZGF0ZTogVGltZXN0YW1wLm5vdygpLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKS50b0RhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KCkudG9EYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICB9O1xyXG5cclxuICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgSU5RVUlSSUVTX0NPTExFQ1RJT04pLCBpbnF1aXJ5RGF0YSk7XHJcbiAgcmV0dXJuIGRvY1JlZi5pZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRJbnF1aXJ5ID0gYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPElucXVpcnkgfCBudWxsPiA9PiB7XHJcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBJTlFVSVJJRVNfQ09MTEVDVElPTiwgaWQpO1xyXG4gIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcclxuXHJcbiAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcclxuICAgIHJldHVybiB7IGlkOiBkb2NTbmFwLmlkLCAuLi5kb2NTbmFwLmRhdGEoKSB9IGFzIElucXVpcnk7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFsbElucXVpcmllcyA9IGFzeW5jICgpOiBQcm9taXNlPElucXVpcnlbXT4gPT4ge1xyXG4gIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCBJTlFVSVJJRVNfQ09MTEVDVElPTiksIG9yZGVyQnkoJ2RhdGUnLCAnZGVzYycpKTtcclxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbiAgcmV0dXJuIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgIGlkOiBkb2MuaWQsXHJcbiAgICAuLi5kb2MuZGF0YSgpLFxyXG4gIH0pKSBhcyBJbnF1aXJ5W107XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0SW5xdWlyaWVzQnlTdGF0dXMgPSBhc3luYyAoXHJcbiAgc3RhdHVzOiAndW5yZWFkJyB8ICdyZWFkJyB8ICdjb250YWN0ZWQnXHJcbik6IFByb21pc2U8SW5xdWlyeVtdPiA9PiB7XHJcbiAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgY29sbGVjdGlvbihkYiwgSU5RVUlSSUVTX0NPTExFQ1RJT04pLFxyXG4gICAgd2hlcmUoJ3N0YXR1cycsICc9PScsIHN0YXR1cyksXHJcbiAgICBvcmRlckJ5KCdkYXRlJywgJ2Rlc2MnKVxyXG4gICk7XHJcbiAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4gIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7XHJcbiAgICBpZDogZG9jLmlkLFxyXG4gICAgLi4uZG9jLmRhdGEoKSxcclxuICB9KSkgYXMgSW5xdWlyeVtdO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUlucXVpcnlTdGF0dXMgPSBhc3luYyAoXHJcbiAgaWQ6IHN0cmluZyxcclxuICBzdGF0dXM6ICd1bnJlYWQnIHwgJ3JlYWQnIHwgJ2NvbnRhY3RlZCdcclxuKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBJTlFVSVJJRVNfQ09MTEVDVElPTiwgaWQpO1xyXG4gIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcclxuICAgIHN0YXR1cyxcclxuICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlSW5xdWlyeSA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBJTlFVSVJJRVNfQ09MTEVDVElPTiwgaWQpO1xyXG4gIGF3YWl0IGRlbGV0ZURvYyhkb2NSZWYpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFJlY2VudElucXVpcmllcyA9IGFzeW5jIChsaW1pdENvdW50OiBudW1iZXIgPSAxMCk6IFByb21pc2U8SW5xdWlyeVtdPiA9PiB7XHJcbiAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgY29sbGVjdGlvbihkYiwgSU5RVUlSSUVTX0NPTExFQ1RJT04pLFxyXG4gICAgb3JkZXJCeSgnZGF0ZScsICdkZXNjJyksXHJcbiAgICBsaW1pdChsaW1pdENvdW50KVxyXG4gICk7XHJcbiAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4gIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7XHJcbiAgICBpZDogZG9jLmlkLFxyXG4gICAgLi4uZG9jLmRhdGEoKSxcclxuICB9KSkgYXMgSW5xdWlyeVtdO1xyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRGFzaGJvYXJkIFN0YXRzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RGFzaGJvYXJkU3RhdHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgW2hvc3RlbHMsIGlucXVpcmllc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICBnZXRBbGxIb3N0ZWxzKCksXHJcbiAgICBnZXRBbGxJbnF1aXJpZXMoKSxcclxuICBdKTtcclxuXHJcbiAgY29uc3Qgc3RhdHMgPSB7XHJcbiAgICB0b3RhbEhvc3RlbHM6IGhvc3RlbHMubGVuZ3RoLFxyXG4gICAgYWN0aXZlSG9zdGVsczogaG9zdGVscy5maWx0ZXIoKGgpID0+IGguc3RhdHVzID09PSAnYWN0aXZlJykubGVuZ3RoLFxyXG4gICAgZmVhdHVyZWRIb3N0ZWxzOiBob3N0ZWxzLmZpbHRlcigoaCkgPT4gaC5zdGF0dXMgPT09ICdmZWF0dXJlZCcpLmxlbmd0aCxcclxuICAgIHVuYXZhaWxhYmxlSG9zdGVsczogaG9zdGVscy5maWx0ZXIoKGgpID0+IGguc3RhdHVzID09PSAndW5hdmFpbGFibGUnKS5sZW5ndGgsXHJcbiAgICB0b3RhbElucXVpcmllczogaW5xdWlyaWVzLmxlbmd0aCxcclxuICAgIHVucmVhZElucXVpcmllczogaW5xdWlyaWVzLmZpbHRlcigoaSkgPT4gaS5zdGF0dXMgPT09ICd1bnJlYWQnKS5sZW5ndGgsXHJcbiAgICByZWFkSW5xdWlyaWVzOiBpbnF1aXJpZXMuZmlsdGVyKChpKSA9PiBpLnN0YXR1cyA9PT0gJ3JlYWQnKS5sZW5ndGgsXHJcbiAgICBjb250YWN0ZWRJbnF1aXJpZXM6IGlucXVpcmllcy5maWx0ZXIoKGkpID0+IGkuc3RhdHVzID09PSAnY29udGFjdGVkJykubGVuZ3RoLFxyXG4gICAgdG90YWxWaWV3czogaG9zdGVscy5yZWR1Y2UoKHN1bSwgaCkgPT4gc3VtICsgaC52aWV3cywgMCksXHJcbiAgICBtb3N0Vmlld2VkOiBob3N0ZWxzXHJcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnZpZXdzIC0gYS52aWV3cylcclxuICAgICAgLnNsaWNlKDAsIDUpXHJcbiAgICAgIC5tYXAoKGgpID0+ICh7XHJcbiAgICAgICAgaWQ6IGguaWQsXHJcbiAgICAgICAgbmFtZTogaC5uYW1lLFxyXG4gICAgICAgIHZpZXdzOiBoLnZpZXdzLFxyXG4gICAgICB9KSksXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHN0YXRzO1xyXG59O1xyXG4iXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImRvYyIsImdldERvYyIsImdldERvY3MiLCJhZGREb2MiLCJ1cGRhdGVEb2MiLCJkZWxldGVEb2MiLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsImxpbWl0IiwiVGltZXN0YW1wIiwiaW5jcmVtZW50IiwiZGIiLCJIT1NURUxTX0NPTExFQ1RJT04iLCJJTlFVSVJJRVNfQ09MTEVDVElPTiIsImNyZWF0ZUhvc3RlbCIsImRhdGEiLCJpbWFnZVVybHMiLCJob3N0ZWxEYXRhIiwiaW1hZ2VzIiwidmlld3MiLCJjcmVhdGVkQXQiLCJub3ciLCJ0b0RhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRBdCIsImRvY1JlZiIsImlkIiwiZ2V0SG9zdGVsIiwiZG9jU25hcCIsImV4aXN0cyIsImdldEFsbEhvc3RlbHMiLCJxIiwicXVlcnlTbmFwc2hvdCIsImRvY3MiLCJtYXAiLCJnZXRIb3N0ZWxzQnlTdGF0dXMiLCJzdGF0dXMiLCJ1cGRhdGVIb3N0ZWwiLCJkZWxldGVIb3N0ZWwiLCJpbmNyZW1lbnRIb3N0ZWxWaWV3cyIsImdldE1vc3RWaWV3ZWRIb3N0ZWxzIiwibGltaXRDb3VudCIsImNyZWF0ZUlucXVpcnkiLCJpbnF1aXJ5RGF0YSIsImRhdGUiLCJnZXRJbnF1aXJ5IiwiZ2V0QWxsSW5xdWlyaWVzIiwiZ2V0SW5xdWlyaWVzQnlTdGF0dXMiLCJ1cGRhdGVJbnF1aXJ5U3RhdHVzIiwiZGVsZXRlSW5xdWlyeSIsImdldFJlY2VudElucXVpcmllcyIsImdldERhc2hib2FyZFN0YXRzIiwiaG9zdGVscyIsImlucXVpcmllcyIsIlByb21pc2UiLCJhbGwiLCJzdGF0cyIsInRvdGFsSG9zdGVscyIsImxlbmd0aCIsImFjdGl2ZUhvc3RlbHMiLCJmaWx0ZXIiLCJoIiwiZmVhdHVyZWRIb3N0ZWxzIiwidW5hdmFpbGFibGVIb3N0ZWxzIiwidG90YWxJbnF1aXJpZXMiLCJ1bnJlYWRJbnF1aXJpZXMiLCJpIiwicmVhZElucXVpcmllcyIsImNvbnRhY3RlZElucXVpcmllcyIsInRvdGFsVmlld3MiLCJyZWR1Y2UiLCJzdW0iLCJtb3N0Vmlld2VkIiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/db.ts\n");

/***/ }),

/***/ "(api)/./lib/firebase.ts":
/*!*************************!*\
  !*** ./lib/firebase.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBGcqsKd6NYzKxWPYZfF_cg37g5nEMMh2U\",\n    authDomain: \"staylo-hostels-96cae.firebaseapp.com\",\n    projectId: \"staylo-hostels-96cae\",\n    storageBucket: \"staylo-hostels-96cae.firebasestorage.app\",\n    messagingSenderId: \"135507299145\",\n    appId: \"1:135507299145:web:072238ab77b565ebd2e898\"\n};\n// Initialize Firebase\nlet app;\nlet auth;\nlet db;\nlet storage;\nif (!(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length) {\n    app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n    auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n    db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\n    storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(app);\n} else {\n    app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n    db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\n    storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(app);\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZmlyZWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBbUU7QUFDckI7QUFDZTtBQUNFO0FBRS9ELE1BQU1LLGlCQUFpQjtJQUNyQkMsUUFBUUMseUNBQXdDO0lBQ2hERyxZQUFZSCxzQ0FBNEM7SUFDeERLLFdBQVdMLHNCQUEyQztJQUN0RE8sZUFBZVAsMENBQStDO0lBQzlEUyxtQkFBbUJULGNBQW9EO0lBQ3ZFVyxPQUFPWCwyQ0FBdUM7QUFDaEQ7QUFFQSxzQkFBc0I7QUFDdEIsSUFBSWE7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBQ0osSUFBSUM7QUFFSixJQUFJLENBQUN0QixxREFBT0EsR0FBR3VCLE1BQU0sRUFBRTtJQUNyQkosTUFBTXBCLDJEQUFhQSxDQUFDSztJQUNwQmdCLE9BQU9uQixzREFBT0EsQ0FBQ2tCO0lBQ2ZFLEtBQUtuQixnRUFBWUEsQ0FBQ2lCO0lBQ2xCRyxVQUFVbkIsNERBQVVBLENBQUNnQjtBQUN2QixPQUFPO0lBQ0xBLE1BQU1uQixxREFBT0EsRUFBRSxDQUFDLEVBQUU7SUFDbEJvQixPQUFPbkIsc0RBQU9BLENBQUNrQjtJQUNmRSxLQUFLbkIsZ0VBQVlBLENBQUNpQjtJQUNsQkcsVUFBVW5CLDREQUFVQSxDQUFDZ0I7QUFDdkI7QUFFa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3N0ZWwtbmV4dGpzLy4vbGliL2ZpcmViYXNlLnRzPzVkMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcywgRmlyZWJhc2VBcHAgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xyXG5pbXBvcnQgeyBnZXRBdXRoLCBBdXRoIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCB7IGdldEZpcmVzdG9yZSwgRmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZ2V0U3RvcmFnZSwgRmlyZWJhc2VTdG9yYWdlIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSc7XHJcblxyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksXHJcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4sXHJcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lELFxyXG4gIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULFxyXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxyXG4gIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQsXHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIEZpcmViYXNlXHJcbmxldCBhcHA6IEZpcmViYXNlQXBwO1xyXG5sZXQgYXV0aDogQXV0aDtcclxubGV0IGRiOiBGaXJlc3RvcmU7XHJcbmxldCBzdG9yYWdlOiBGaXJlYmFzZVN0b3JhZ2U7XHJcblxyXG5pZiAoIWdldEFwcHMoKS5sZW5ndGgpIHtcclxuICBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuICBhdXRoID0gZ2V0QXV0aChhcHApO1xyXG4gIGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcbiAgc3RvcmFnZSA9IGdldFN0b3JhZ2UoYXBwKTtcclxufSBlbHNlIHtcclxuICBhcHAgPSBnZXRBcHBzKClbMF07XHJcbiAgYXV0aCA9IGdldEF1dGgoYXBwKTtcclxuICBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xyXG4gIHN0b3JhZ2UgPSBnZXRTdG9yYWdlKGFwcCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGFwcCwgYXV0aCwgZGIsIHN0b3JhZ2UgfTtcclxuIl0sIm5hbWVzIjpbImluaXRpYWxpemVBcHAiLCJnZXRBcHBzIiwiZ2V0QXV0aCIsImdldEZpcmVzdG9yZSIsImdldFN0b3JhZ2UiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZIiwiYXV0aERvbWFpbiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOIiwicHJvamVjdElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCIsInN0b3JhZ2VCdWNrZXQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCIsImFwcElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lEIiwiYXBwIiwiYXV0aCIsImRiIiwic3RvcmFnZSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/firebase.ts\n");

/***/ }),

/***/ "(api)/./lib/middleware.ts":
/*!***************************!*\
  !*** ./lib/middleware.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compose: () => (/* binding */ compose),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   withCors: () => (/* binding */ withCors),\n/* harmony export */   withErrorHandler: () => (/* binding */ withErrorHandler),\n/* harmony export */   withLogging: () => (/* binding */ withLogging),\n/* harmony export */   withRateLimit: () => (/* binding */ withRateLimit),\n/* harmony export */   withValidation: () => (/* binding */ withValidation)\n/* harmony export */ });\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth */ \"(api)/./lib/auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_auth__WEBPACK_IMPORTED_MODULE_0__]);\n_auth__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Rate limiting store (in-memory)\nconst rateLimitStore = new Map();\n/**\r\n * Firebase Authentication Middleware\r\n * Verifies Firebase ID tokens from Authorization header\r\n */ const requireAuth = (handler)=>{\n    return async (req, res)=>{\n        try {\n            // Get token from Authorization header\n            const authHeader = req.headers.authorization;\n            if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n                return res.status(401).json({\n                    success: false,\n                    error: \"Unauthorized - No token provided\"\n                });\n            }\n            const token = authHeader.replace(\"Bearer \", \"\");\n            try {\n                // Verify token with Firebase (client-side auth object)\n                // In a production environment with Firebase Admin SDK:\n                // const decodedToken = await admin.auth().verifyIdToken(token);\n                // req.user = decodedToken;\n                // For now, we check if auth.currentUser exists (client-side)\n                // This is a simplified check - in production use Firebase Admin SDK\n                const currentUser = _auth__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n                if (!currentUser) {\n                    return res.status(401).json({\n                        success: false,\n                        error: \"Unauthorized - Invalid or expired token\"\n                    });\n                }\n                // Attach user info to request (for logging/tracking)\n                req.user = {\n                    uid: currentUser.uid,\n                    email: currentUser.email\n                };\n                // Call the handler\n                return handler(req, res);\n            } catch (verifyError) {\n                console.error(\"Token verification error:\", verifyError);\n                return res.status(401).json({\n                    success: false,\n                    error: \"Unauthorized - Token verification failed\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Auth middleware error:\", error);\n            return res.status(401).json({\n                success: false,\n                error: \"Unauthorized - Authentication failed\"\n            });\n        }\n    };\n};\n/**\r\n * Rate Limiting Middleware\r\n * Limits requests per IP address\r\n */ const withRateLimit = (handler, options = {})=>{\n    const maxRequests = options.maxRequests || 100; // 100 requests\n    const windowMs = options.windowMs || 15 * 60 * 1000; // 15 minutes\n    return async (req, res)=>{\n        // Get client IP\n        const ip = req.headers[\"x-forwarded-for\"]?.split(\",\")[0] || req.headers[\"x-real-ip\"] || \"unknown\";\n        const now = Date.now();\n        const record = rateLimitStore.get(ip);\n        // Clean up expired records (every 100 requests)\n        if (Math.random() < 0.01) {\n            for (const [key, value] of rateLimitStore.entries()){\n                if (value.resetAt < now) {\n                    rateLimitStore.delete(key);\n                }\n            }\n        }\n        if (record) {\n            if (record.resetAt > now) {\n                // Within window\n                if (record.count >= maxRequests) {\n                    return res.status(429).json({\n                        success: false,\n                        error: \"Too many requests. Please try again later.\",\n                        retryAfter: Math.ceil((record.resetAt - now) / 1000)\n                    });\n                }\n                record.count++;\n            } else {\n                // Window expired, reset\n                record.count = 1;\n                record.resetAt = now + windowMs;\n            }\n        } else {\n            // New IP\n            rateLimitStore.set(ip, {\n                count: 1,\n                resetAt: now + windowMs\n            });\n        }\n        return handler(req, res);\n    };\n};\n/**\r\n * CORS middleware for API routes\r\n */ const withCors = (handler)=>{\n    return async (req, res)=>{\n        res.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n        res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        res.setHeader(\"Access-Control-Allow-Methods\", \"GET,OPTIONS,PATCH,DELETE,POST,PUT\");\n        res.setHeader(\"Access-Control-Allow-Headers\", \"X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version, Authorization\");\n        if (req.method === \"OPTIONS\") {\n            res.status(200).end();\n            return;\n        }\n        return handler(req, res);\n    };\n};\n/**\r\n * Request Validation Middleware\r\n * Validates and sanitizes request data\r\n */ const withValidation = (handler, schema)=>{\n    return async (req, res)=>{\n        // Validate body if schema provided\n        if (schema?.body && req.body) {\n            const validation = schema.body(req.body);\n            if (!validation.valid) {\n                return res.status(400).json({\n                    success: false,\n                    error: \"Validation failed\",\n                    details: validation.errors\n                });\n            }\n        }\n        // Validate query params if schema provided\n        if (schema?.query && req.query) {\n            const validation = schema.query(req.query);\n            if (!validation.valid) {\n                return res.status(400).json({\n                    success: false,\n                    error: \"Invalid query parameters\",\n                    details: validation.errors\n                });\n            }\n        }\n        // Sanitize strings (basic XSS prevention)\n        if (req.body && typeof req.body === \"object\") {\n            req.body = sanitizeObject(req.body);\n        }\n        return handler(req, res);\n    };\n};\n/**\r\n * Sanitize object to prevent XSS\r\n */ function sanitizeObject(obj) {\n    if (typeof obj === \"string\") {\n        return obj.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\").replace(/\\//g, \"&#x2F;\");\n    }\n    if (Array.isArray(obj)) {\n        return obj.map(sanitizeObject);\n    }\n    if (obj && typeof obj === \"object\") {\n        const sanitized = {};\n        for(const key in obj){\n            sanitized[key] = sanitizeObject(obj[key]);\n        }\n        return sanitized;\n    }\n    return obj;\n}\n/**\r\n * Logging Middleware\r\n * Logs all API requests with timing\r\n */ const withLogging = (handler)=>{\n    return async (req, res)=>{\n        const start = Date.now();\n        const { method, url } = req;\n        const ip = req.headers[\"x-forwarded-for\"]?.split(\",\")[0] || req.headers[\"x-real-ip\"] || \"unknown\";\n        console.log(`[${new Date().toISOString()}] ${method} ${url} - IP: ${ip}`);\n        try {\n            await handler(req, res);\n            const duration = Date.now() - start;\n            console.log(`[${new Date().toISOString()}] ${method} ${url} - ${res.statusCode} - ${duration}ms`);\n        } catch (error) {\n            const duration = Date.now() - start;\n            console.error(`[${new Date().toISOString()}] ${method} ${url} - ERROR - ${duration}ms`, error);\n            throw error;\n        }\n    };\n};\n/**\r\n * Error handler wrapper with detailed logging\r\n */ const withErrorHandler = (handler)=>{\n    return async (req, res)=>{\n        try {\n            return await handler(req, res);\n        } catch (error) {\n            console.error(\"API Error:\", {\n                error: error.message,\n                stack: error.stack,\n                method: req.method,\n                url: req.url,\n                body: req.body,\n                query: req.query\n            });\n            // Don't expose internal errors in production\n            const isDev = \"development\" === \"development\";\n            return res.status(500).json({\n                success: false,\n                error: isDev ? error.message : \"Internal server error\",\n                ...isDev && {\n                    stack: error.stack\n                }\n            });\n        }\n    };\n};\n/**\r\n * Combine multiple middleware functions\r\n */ const compose = (...middlewares)=>{\n    return (handler)=>{\n        return middlewares.reduceRight((acc, middleware)=>middleware(acc), handler);\n    };\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssQ0FBQyxjQUFjO2dCQUMxQkEsT0FBT0EsTUFBTXdELE9BQU87Z0JBQ3BCQyxPQUFPekQsTUFBTXlELEtBQUs7Z0JBQ2xCekIsUUFBUXpDLElBQUl5QyxNQUFNO2dCQUNsQmtCLEtBQUszRCxJQUFJMkQsR0FBRztnQkFDWmQsTUFBTTdDLElBQUk2QyxJQUFJO2dCQUNkSyxPQUFPbEQsSUFBSWtELEtBQUs7WUFDbEI7WUFFQSw2Q0FBNkM7WUFDN0MsTUFBTWlCLFFBQVFDLGtCQUF5QjtZQUV2QyxPQUFPbkUsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLFNBQVM7Z0JBQ1RDLE9BQU8wRCxRQUFRMUQsTUFBTXdELE9BQU8sR0FBRztnQkFDL0IsR0FBSUUsU0FBUztvQkFBRUQsT0FBT3pELE1BQU15RCxLQUFLO2dCQUFDLENBQUM7WUFDckM7UUFDRjtJQUNGO0FBQ0YsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTUcsVUFBVSxDQUFDLEdBQUdDO0lBQ3pCLE9BQU8sQ0FBQ3ZFO1FBQ04sT0FBT3VFLFlBQVlDLFdBQVcsQ0FBQyxDQUFDQyxLQUFLQyxhQUFlQSxXQUFXRCxNQUFNekU7SUFDdkU7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9zdGVsLW5leHRqcy8uL2xpYi9taWRkbGV3YXJlLnRzPzk3OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnLi9hdXRoJztcclxuXHJcbi8vIFJhdGUgbGltaXRpbmcgc3RvcmUgKGluLW1lbW9yeSlcclxuY29uc3QgcmF0ZUxpbWl0U3RvcmUgPSBuZXcgTWFwPHN0cmluZywgeyBjb3VudDogbnVtYmVyOyByZXNldEF0OiBudW1iZXIgfT4oKTtcclxuXHJcbi8qKlxyXG4gKiBGaXJlYmFzZSBBdXRoZW50aWNhdGlvbiBNaWRkbGV3YXJlXHJcbiAqIFZlcmlmaWVzIEZpcmViYXNlIElEIHRva2VucyBmcm9tIEF1dGhvcml6YXRpb24gaGVhZGVyXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcmVxdWlyZUF1dGggPSAoXHJcbiAgaGFuZGxlcjogKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiBQcm9taXNlPHZvaWQ+XHJcbikgPT4ge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCB0b2tlbiBmcm9tIEF1dGhvcml6YXRpb24gaGVhZGVyXHJcbiAgICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG5cclxuICAgICAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkIC0gTm8gdG9rZW4gcHJvdmlkZWQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIucmVwbGFjZSgnQmVhcmVyICcsICcnKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVmVyaWZ5IHRva2VuIHdpdGggRmlyZWJhc2UgKGNsaWVudC1zaWRlIGF1dGggb2JqZWN0KVxyXG4gICAgICAgIC8vIEluIGEgcHJvZHVjdGlvbiBlbnZpcm9ubWVudCB3aXRoIEZpcmViYXNlIEFkbWluIFNESzpcclxuICAgICAgICAvLyBjb25zdCBkZWNvZGVkVG9rZW4gPSBhd2FpdCBhZG1pbi5hdXRoKCkudmVyaWZ5SWRUb2tlbih0b2tlbik7XHJcbiAgICAgICAgLy8gcmVxLnVzZXIgPSBkZWNvZGVkVG9rZW47XHJcblxyXG4gICAgICAgIC8vIEZvciBub3csIHdlIGNoZWNrIGlmIGF1dGguY3VycmVudFVzZXIgZXhpc3RzIChjbGllbnQtc2lkZSlcclxuICAgICAgICAvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCBjaGVjayAtIGluIHByb2R1Y3Rpb24gdXNlIEZpcmViYXNlIEFkbWluIFNES1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcclxuXHJcbiAgICAgICAgaWYgKCFjdXJyZW50VXNlcikge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkIC0gSW52YWxpZCBvciBleHBpcmVkIHRva2VuJyxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQXR0YWNoIHVzZXIgaW5mbyB0byByZXF1ZXN0IChmb3IgbG9nZ2luZy90cmFja2luZylcclxuICAgICAgICAocmVxIGFzIGFueSkudXNlciA9IHtcclxuICAgICAgICAgIHVpZDogY3VycmVudFVzZXIudWlkLFxyXG4gICAgICAgICAgZW1haWw6IGN1cnJlbnRVc2VyLmVtYWlsLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENhbGwgdGhlIGhhbmRsZXJcclxuICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgICAgIH0gY2F0Y2ggKHZlcmlmeUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gdmVyaWZpY2F0aW9uIGVycm9yOicsIHZlcmlmeUVycm9yKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ1VuYXV0aG9yaXplZCAtIFRva2VuIHZlcmlmaWNhdGlvbiBmYWlsZWQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBdXRoIG1pZGRsZXdhcmUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkIC0gQXV0aGVudGljYXRpb24gZmFpbGVkJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSYXRlIExpbWl0aW5nIE1pZGRsZXdhcmVcclxuICogTGltaXRzIHJlcXVlc3RzIHBlciBJUCBhZGRyZXNzXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgd2l0aFJhdGVMaW1pdCA9IChcclxuICBoYW5kbGVyOiAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IFByb21pc2U8dm9pZD4sXHJcbiAgb3B0aW9uczogeyBtYXhSZXF1ZXN0cz86IG51bWJlcjsgd2luZG93TXM/OiBudW1iZXIgfSA9IHt9XHJcbikgPT4ge1xyXG4gIGNvbnN0IG1heFJlcXVlc3RzID0gb3B0aW9ucy5tYXhSZXF1ZXN0cyB8fCAxMDA7IC8vIDEwMCByZXF1ZXN0c1xyXG4gIGNvbnN0IHdpbmRvd01zID0gb3B0aW9ucy53aW5kb3dNcyB8fCAxNSAqIDYwICogMTAwMDsgLy8gMTUgbWludXRlc1xyXG5cclxuICByZXR1cm4gYXN5bmMgKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyBHZXQgY2xpZW50IElQXHJcbiAgICBjb25zdCBpcCA9XHJcbiAgICAgIChyZXEuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gYXMgc3RyaW5nKT8uc3BsaXQoJywnKVswXSB8fFxyXG4gICAgICAocmVxLmhlYWRlcnNbJ3gtcmVhbC1pcCddIGFzIHN0cmluZykgfHxcclxuICAgICAgJ3Vua25vd24nO1xyXG5cclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCByZWNvcmQgPSByYXRlTGltaXRTdG9yZS5nZXQoaXApO1xyXG5cclxuICAgIC8vIENsZWFuIHVwIGV4cGlyZWQgcmVjb3JkcyAoZXZlcnkgMTAwIHJlcXVlc3RzKVxyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7XHJcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHJhdGVMaW1pdFN0b3JlLmVudHJpZXMoKSkge1xyXG4gICAgICAgIGlmICh2YWx1ZS5yZXNldEF0IDwgbm93KSB7XHJcbiAgICAgICAgICByYXRlTGltaXRTdG9yZS5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVjb3JkKSB7XHJcbiAgICAgIGlmIChyZWNvcmQucmVzZXRBdCA+IG5vdykge1xyXG4gICAgICAgIC8vIFdpdGhpbiB3aW5kb3dcclxuICAgICAgICBpZiAocmVjb3JkLmNvdW50ID49IG1heFJlcXVlc3RzKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjkpLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdUb28gbWFueSByZXF1ZXN0cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxyXG4gICAgICAgICAgICByZXRyeUFmdGVyOiBNYXRoLmNlaWwoKHJlY29yZC5yZXNldEF0IC0gbm93KSAvIDEwMDApLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlY29yZC5jb3VudCsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFdpbmRvdyBleHBpcmVkLCByZXNldFxyXG4gICAgICAgIHJlY29yZC5jb3VudCA9IDE7XHJcbiAgICAgICAgcmVjb3JkLnJlc2V0QXQgPSBub3cgKyB3aW5kb3dNcztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gTmV3IElQXHJcbiAgICAgIHJhdGVMaW1pdFN0b3JlLnNldChpcCwge1xyXG4gICAgICAgIGNvdW50OiAxLFxyXG4gICAgICAgIHJlc2V0QXQ6IG5vdyArIHdpbmRvd01zLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDT1JTIG1pZGRsZXdhcmUgZm9yIEFQSSByb3V0ZXNcclxuICovXHJcbmV4cG9ydCBjb25zdCB3aXRoQ29ycyA9IChcclxuICBoYW5kbGVyOiAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IFByb21pc2U8dm9pZD5cclxuKSA9PiB7XHJcbiAgcmV0dXJuIGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xyXG4gICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xyXG4gICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULE9QVElPTlMsUEFUQ0gsREVMRVRFLFBPU1QsUFVUJyk7XHJcbiAgICByZXMuc2V0SGVhZGVyKFxyXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsXHJcbiAgICAgICdYLUNTUkYtVG9rZW4sIFgtUmVxdWVzdGVkLVdpdGgsIEFjY2VwdCwgQWNjZXB0LVZlcnNpb24sIENvbnRlbnQtTGVuZ3RoLCBDb250ZW50LU1ENSwgQ29udGVudC1UeXBlLCBEYXRlLCBYLUFwaS1WZXJzaW9uLCBBdXRob3JpemF0aW9uJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlcXVlc3QgVmFsaWRhdGlvbiBNaWRkbGV3YXJlXHJcbiAqIFZhbGlkYXRlcyBhbmQgc2FuaXRpemVzIHJlcXVlc3QgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHdpdGhWYWxpZGF0aW9uID0gKFxyXG4gIGhhbmRsZXI6IChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4gUHJvbWlzZTx2b2lkPixcclxuICBzY2hlbWE/OiB7XHJcbiAgICBib2R5PzogKGRhdGE6IGFueSkgPT4geyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzPzogc3RyaW5nW10gfTtcclxuICAgIHF1ZXJ5PzogKGRhdGE6IGFueSkgPT4geyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzPzogc3RyaW5nW10gfTtcclxuICB9XHJcbikgPT4ge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIC8vIFZhbGlkYXRlIGJvZHkgaWYgc2NoZW1hIHByb3ZpZGVkXHJcbiAgICBpZiAoc2NoZW1hPy5ib2R5ICYmIHJlcS5ib2R5KSB7XHJcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBzY2hlbWEuYm9keShyZXEuYm9keSk7XHJcbiAgICAgIGlmICghdmFsaWRhdGlvbi52YWxpZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAnVmFsaWRhdGlvbiBmYWlsZWQnLFxyXG4gICAgICAgICAgZGV0YWlsczogdmFsaWRhdGlvbi5lcnJvcnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBxdWVyeSBwYXJhbXMgaWYgc2NoZW1hIHByb3ZpZGVkXHJcbiAgICBpZiAoc2NoZW1hPy5xdWVyeSAmJiByZXEucXVlcnkpIHtcclxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS5xdWVyeShyZXEucXVlcnkpO1xyXG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgcXVlcnkgcGFyYW1ldGVycycsXHJcbiAgICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uLmVycm9ycyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNhbml0aXplIHN0cmluZ3MgKGJhc2ljIFhTUyBwcmV2ZW50aW9uKVxyXG4gICAgaWYgKHJlcS5ib2R5ICYmIHR5cGVvZiByZXEuYm9keSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgcmVxLmJvZHkgPSBzYW5pdGl6ZU9iamVjdChyZXEuYm9keSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogU2FuaXRpemUgb2JqZWN0IHRvIHByZXZlbnQgWFNTXHJcbiAqL1xyXG5mdW5jdGlvbiBzYW5pdGl6ZU9iamVjdChvYmo6IGFueSk6IGFueSB7XHJcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gb2JqXHJcbiAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcclxuICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxyXG4gICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXHJcbiAgICAgIC5yZXBsYWNlKC8nL2csICcmI3gyNzsnKVxyXG4gICAgICAucmVwbGFjZSgvXFwvL2csICcmI3gyRjsnKTtcclxuICB9XHJcblxyXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcclxuICAgIHJldHVybiBvYmoubWFwKHNhbml0aXplT2JqZWN0KTtcclxuICB9XHJcblxyXG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcclxuICAgIGNvbnN0IHNhbml0aXplZDogYW55ID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgc2FuaXRpemVkW2tleV0gPSBzYW5pdGl6ZU9iamVjdChvYmpba2V5XSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2FuaXRpemVkO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZ2dpbmcgTWlkZGxld2FyZVxyXG4gKiBMb2dzIGFsbCBBUEkgcmVxdWVzdHMgd2l0aCB0aW1pbmdcclxuICovXHJcbmV4cG9ydCBjb25zdCB3aXRoTG9nZ2luZyA9IChcclxuICBoYW5kbGVyOiAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IFByb21pc2U8dm9pZD5cclxuKSA9PiB7XHJcbiAgcmV0dXJuIGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xyXG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc3QgeyBtZXRob2QsIHVybCB9ID0gcmVxO1xyXG4gICAgY29uc3QgaXAgPVxyXG4gICAgICAocmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIGFzIHN0cmluZyk/LnNwbGl0KCcsJylbMF0gfHxcclxuICAgICAgKHJlcS5oZWFkZXJzWyd4LXJlYWwtaXAnXSBhcyBzdHJpbmcpIHx8XHJcbiAgICAgICd1bmtub3duJztcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0gJHttZXRob2R9ICR7dXJsfSAtIElQOiAke2lwfWApO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGhhbmRsZXIocmVxLCByZXMpO1xyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydDtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dICR7bWV0aG9kfSAke3VybH0gLSAke3Jlcy5zdGF0dXNDb2RlfSAtICR7ZHVyYXRpb259bXNgXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydDtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBgWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0gJHttZXRob2R9ICR7dXJsfSAtIEVSUk9SIC0gJHtkdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFcnJvciBoYW5kbGVyIHdyYXBwZXIgd2l0aCBkZXRhaWxlZCBsb2dnaW5nXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgd2l0aEVycm9ySGFuZGxlciA9IChcclxuICBoYW5kbGVyOiAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IFByb21pc2U8dm9pZD5cclxuKSA9PiB7XHJcbiAgcmV0dXJuIGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZXIocmVxLCByZXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6Jywge1xyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcclxuICAgICAgICBtZXRob2Q6IHJlcS5tZXRob2QsXHJcbiAgICAgICAgdXJsOiByZXEudXJsLFxyXG4gICAgICAgIGJvZHk6IHJlcS5ib2R5LFxyXG4gICAgICAgIHF1ZXJ5OiByZXEucXVlcnksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gRG9uJ3QgZXhwb3NlIGludGVybmFsIGVycm9ycyBpbiBwcm9kdWN0aW9uXHJcbiAgICAgIGNvbnN0IGlzRGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCc7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBpc0RldiA/IGVycm9yLm1lc3NhZ2UgOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcclxuICAgICAgICAuLi4oaXNEZXYgJiYgeyBzdGFjazogZXJyb3Iuc3RhY2sgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQ29tYmluZSBtdWx0aXBsZSBtaWRkbGV3YXJlIGZ1bmN0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNvbXBvc2UgPSAoLi4ubWlkZGxld2FyZXM6IEFycmF5PChoYW5kbGVyOiBhbnkpID0+IGFueT4pID0+IHtcclxuICByZXR1cm4gKGhhbmRsZXI6IGFueSkgPT4ge1xyXG4gICAgcmV0dXJuIG1pZGRsZXdhcmVzLnJlZHVjZVJpZ2h0KChhY2MsIG1pZGRsZXdhcmUpID0+IG1pZGRsZXdhcmUoYWNjKSwgaGFuZGxlcik7XHJcbiAgfTtcclxufTtcclxuIl0sIm5hbWVzIjpbImF1dGgiLCJyYXRlTGltaXRTdG9yZSIsIk1hcCIsInJlcXVpcmVBdXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwidG9rZW4iLCJyZXBsYWNlIiwiY3VycmVudFVzZXIiLCJ1c2VyIiwidWlkIiwiZW1haWwiLCJ2ZXJpZnlFcnJvciIsImNvbnNvbGUiLCJ3aXRoUmF0ZUxpbWl0Iiwib3B0aW9ucyIsIm1heFJlcXVlc3RzIiwid2luZG93TXMiLCJpcCIsInNwbGl0Iiwibm93IiwiRGF0ZSIsInJlY29yZCIsImdldCIsIk1hdGgiLCJyYW5kb20iLCJrZXkiLCJ2YWx1ZSIsImVudHJpZXMiLCJyZXNldEF0IiwiZGVsZXRlIiwiY291bnQiLCJyZXRyeUFmdGVyIiwiY2VpbCIsInNldCIsIndpdGhDb3JzIiwic2V0SGVhZGVyIiwibWV0aG9kIiwiZW5kIiwid2l0aFZhbGlkYXRpb24iLCJzY2hlbWEiLCJib2R5IiwidmFsaWRhdGlvbiIsInZhbGlkIiwiZGV0YWlscyIsImVycm9ycyIsInF1ZXJ5Iiwic2FuaXRpemVPYmplY3QiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJzYW5pdGl6ZWQiLCJ3aXRoTG9nZ2luZyIsInN0YXJ0IiwidXJsIiwibG9nIiwidG9JU09TdHJpbmciLCJkdXJhdGlvbiIsInN0YXR1c0NvZGUiLCJ3aXRoRXJyb3JIYW5kbGVyIiwibWVzc2FnZSIsInN0YWNrIiwiaXNEZXYiLCJwcm9jZXNzIiwiY29tcG9zZSIsIm1pZGRsZXdhcmVzIiwicmVkdWNlUmlnaHQiLCJhY2MiLCJtaWRkbGV3YXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/middleware.ts\n");

/***/ }),

/***/ "(api)/./pages/api/stats.ts":
/*!****************************!*\
  !*** ./pages/api/stats.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/db */ \"(api)/./lib/db.ts\");\n/* harmony import */ var _lib_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/middleware */ \"(api)/./lib/middleware.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db__WEBPACK_IMPORTED_MODULE_0__, _lib_middleware__WEBPACK_IMPORTED_MODULE_1__]);\n([_lib_db__WEBPACK_IMPORTED_MODULE_0__, _lib_middleware__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        return res.status(405).json({\n            success: false,\n            error: `Method ${req.method} not allowed`\n        });\n    }\n    const stats = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.getDashboardStats)();\n    return res.status(200).json({\n        success: true,\n        data: stats\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_middleware__WEBPACK_IMPORTED_MODULE_1__.withCors)((0,_lib_middleware__WEBPACK_IMPORTED_MODULE_1__.withErrorHandler)(handler)));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc3RhdHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ2lEO0FBQ2lCO0FBR2xFLGVBQWVHLFFBQ2JDLEdBQW1CLEVBQ25CQyxHQUFpRDtJQUVqRCxJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QkQsSUFBSUUsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFNO1FBQzlCLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDMUJDLFNBQVM7WUFDVEMsT0FBTyxDQUFDLE9BQU8sRUFBRVAsSUFBSUUsTUFBTSxDQUFDLFlBQVksQ0FBQztRQUMzQztJQUNGO0lBRUEsTUFBTU0sUUFBUSxNQUFNWiwwREFBaUJBO0lBRXJDLE9BQU9LLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFDMUJDLFNBQVM7UUFDVEcsTUFBTUQ7SUFDUjtBQUNGO0FBRUEsaUVBQWVYLHlEQUFRQSxDQUFDQyxpRUFBZ0JBLENBQUNDLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3N0ZWwtbmV4dGpzLy4vcGFnZXMvYXBpL3N0YXRzLnRzPzRiZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XHJcbmltcG9ydCB7IGdldERhc2hib2FyZFN0YXRzIH0gZnJvbSAnLi4vLi4vbGliL2RiJztcclxuaW1wb3J0IHsgd2l0aENvcnMsIHdpdGhFcnJvckhhbmRsZXIgfSBmcm9tICcuLi8uLi9saWIvbWlkZGxld2FyZSc7XHJcbmltcG9ydCB7IEFwaVJlc3BvbnNlLCBEYXNoYm9hcmRTdGF0cyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZTxBcGlSZXNwb25zZTxEYXNoYm9hcmRTdGF0cz4+XHJcbikge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xyXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCddKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogYE1ldGhvZCAke3JlcS5tZXRob2R9IG5vdCBhbGxvd2VkYCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3RhdHMgPSBhd2FpdCBnZXREYXNoYm9hcmRTdGF0cygpO1xyXG5cclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHN0YXRzLFxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoQ29ycyh3aXRoRXJyb3JIYW5kbGVyKGhhbmRsZXIpKTtcclxuIl0sIm5hbWVzIjpbImdldERhc2hib2FyZFN0YXRzIiwid2l0aENvcnMiLCJ3aXRoRXJyb3JIYW5kbGVyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0cyIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/stats.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstats&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstats.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();